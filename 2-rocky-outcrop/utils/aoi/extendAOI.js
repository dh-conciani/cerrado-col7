// extent aoi (by active search)
var extent = ee.FeatureCollection(ee.Geometry.MultiPolygon(
        [[[[-47.88461582919147, -14.11215905964404],
           [-47.94778721591022, -14.22666891829038],
           [-47.85989659091022, -14.296544712077988],
           [-47.644976546964905, -14.30985192865642],
           [-47.406023910246155, -14.231327978002879],
           [-47.32431309481647, -14.160100448716431],
           [-47.187731589918286, -14.088646586743732],
           [-46.858141746168286, -13.814761005802632],
           [-46.86706813776985, -13.661350671393093],
           [-46.98585781062141, -13.586610275132408],
           [-47.13566949833655, -13.6549173659796],
           [-47.4356823170088, -13.830951205866045],
           [-47.536104222526376, -13.884117353472504]]],
         [[[-47.32496157435058, -14.12985198010363],
           [-47.342127712045894, -14.249011602867778],
           [-47.329081447397456, -14.449244101703774],
           [-47.268656642709956, -14.442594739640453],
           [-47.175272853647456, -14.1391739834079],
           [-47.25629702356933, -14.113870514819945]]],
         [[[-47.15827613075167, -20.31126074948213],
           [-47.132526924208705, -20.280670085087944],
           [-47.13081031043917, -20.2590919861211],
           [-47.146259834364955, -20.23686662925619],
           [-47.16754584510714, -20.202072733639838],
           [-47.19535498817355, -20.18660628316581],
           [-47.21595435340792, -20.191761937277846],
           [-47.21595435340792, -20.208194445971436],
           [-47.217670967177455, -20.22269227790507],
           [-47.22728400428683, -20.221403636438815],
           [-47.23380713661105, -20.22269227790507],
           [-47.22625403602511, -20.23525597259584],
           [-47.227627327040736, -20.24008789250035],
           [-47.21252112586886, -20.257481559905],
           [-47.1981015702048, -20.26392316452305],
           [-47.18059210975558, -20.284534502263934]]],
         [[[-46.384341109757756, -12.339039473331635],
           [-46.31704984999213, -12.54488882624223],
           [-46.341425765519475, -13.040392201904424],
           [-46.34623228407416, -13.217931156976357],
           [-46.36030851698432, -13.37029099747291],
           [-46.32254301405463, -13.482160756957859],
           [-46.282717574601506, -13.426399364711765],
           [-46.29404722548041, -13.41237350031765],
           [-46.27207456923041, -13.360270270122188],
           [-46.17457090712104, -13.34122974161292],
           [-46.172854293351506, -13.333212227901324],
           [-46.18796049452338, -13.326530763348268],
           [-46.28580747938666, -13.34390218706826],
           [-46.289240706925725, -13.315505943361982],
           [-46.30778013563666, -13.302475963339967],
           [-46.295786577624305, -13.254001263717798],
           [-46.27793379442118, -13.053412362869315],
           [-46.122751909655555, -12.973131046385513],
           [-46.089792925280555, -12.926288297602479],
           [-46.12137861863993, -12.90487153976645],
           [-46.282053667468055, -12.926288297602479],
           [-46.26969404832743, -12.620927417904154],
           [-46.199656206530555, -12.512355691013084],
           [-46.21201582567118, -12.494926335716247],
           [-46.249094683093055, -12.466768741851359],
           [-46.265574175280555, -12.391666883973945],
           [-46.315012651843055, -12.32191006973041],
           [-46.369944292468055, -12.32191006973041]]],
         [[[-46.557458717736644, -13.630743711930286],
           [-46.552652199181956, -13.699466209447337],
           [-46.58423789254133, -13.774170785743829],
           [-46.606897194299144, -13.814181282989916],
           [-46.615823585900706, -13.896847856679377],
           [-46.51539756340069, -14.029449941869862],
           [-46.50269462150616, -14.082237332997643],
           [-46.4611525682835, -14.07507761234254],
           [-46.42383721376934, -14.059395734496755],
           [-46.412679224267386, -14.040911361380468],
           [-46.39379647280254, -14.016762861792424],
           [-46.39071897945209, -13.993078741217024],
           [-46.37303785762592, -13.959263091572785],
           [-46.36290983638568, -13.92860816633515],
           [-46.34471373042865, -13.899282257151102],
           [-46.34471373042865, -13.86245298602815],
           [-46.3538092813103, -13.824616336773644],
           [-46.39844123931811, -13.82528309037899],
           [-46.44307319732592, -13.819949008079353],
           [-46.443759842833735, -13.791943072828156],
           [-46.42762367340014, -13.753596165085703],
           [-46.44238655181811, -13.73158553589216],
           [-46.44822303863452, -13.712908229931125],
           [-46.45371620269702, -13.67621634079113],
           [-46.443759842833735, -13.644523288524669],
           [-46.41389076324389, -13.619499450893938],
           [-46.39333684180562, -13.679253296999967],
           [-46.391963550789995, -13.692262726679878],
           [-46.384753772957964, -13.708606887433605],
           [-46.38818700049703, -13.72261526299645],
           [-46.38166386817281, -13.758558193151112],
           [-46.36655766700093, -13.793570093760069],
           [-46.36072118018453, -13.808240186586241],
           [-46.35248143409078, -13.806573177055848],
           [-46.35282475684468, -13.792903249440023],
           [-46.35248143409078, -13.782900356049902],
           [-46.35694462989156, -13.772230130906793],
           [-46.35213811133687, -13.761892885805125],
           [-46.36106450293843, -13.750221253624536],
           [-46.35591466162984, -13.736214527024249],
           [-46.35660130713765, -13.720539340545596],
           [-46.36312443946187, -13.699859833435006],
           [-46.361751148446245, -13.687851542517455],
           [-46.34046513770406, -13.678844922032024],
           [-46.36621434424703, -13.662498693733486],
           [-46.371020862801714, -13.649153993374602],
           [-46.36587102149312, -13.628134559992738],
           [-46.364497730477495, -13.614787917420148],
           [-46.36140782569234, -13.59443283789053],
           [-46.37308079932515, -13.557388782022674],
           [-46.46200139258687, -13.58642380247631],
           [-46.494617054207964, -13.599438347558863],
           [-46.52723271582906, -13.6087816825426]]]]));

// convert extent aoi to image
var extent_aoi = ee.Image(1).clip(extent);

// build new AOI
var aoi = extent_aoi.updateMask(extent_aoi.eq(1)
    ).blend(
      ee.Image(1).clip(ee.FeatureCollection(
          'users/dh-conciani/collection7/rocky/masks/aoi_v1')
          )
        );

Map.addLayer(aoi)

// set bounds
var region_bounds = ee.Geometry.Polygon(
        [[[-41.36803770783518, -3.496508934661406],
          [-48.44323302033518, -6.822346092520552],
          [-51.03600645783518, -14.205363521441946],
          [-55.34264708283518, -15.902778846960333],
          [-58.81432677033518, -21.273585973427323],
          [-55.82604552033518, -22.17171493851065],
          [-47.65221739533518, -16.45144530266958],
          [-47.87194395783518, -20.986652074044137],
          [-45.67467833283518, -21.355464792167204],
          [-42.68639708283518, -19.62662893301022],
          [-42.68639708283518, -17.376409439059795],
          [-45.85045958283518, -14.630974632910805],
          [-43.87292052033518, -11.850768754434336],
          [-43.91686583283518, -7.1276862940973285],
          [-40.48913145783518, -4.898951108471723]]]);

// export as GEE asset
Export.image.toAsset({
    'image': aoi,
    'description': 'aoi_v2',
    'assetId': 'users/dh-conciani/collection7/rocky/masks/aoi_v2',
    'pyramidingPolicy': {
        '.default': 'mode'
    },
    'region': region_bounds,
    'scale': 30,
    'maxPixels': 1e13
});


